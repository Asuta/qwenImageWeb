# 图像生成 AI 工具

一个基于 NanoGPT API 的本地网页应用，用于通过文本描述生成精美的 AI 图像。

## 功能特性

### 🎨 核心功能
- **文本到图像生成**: 根据详细的文本描述生成高质量图像
- **图像到图像转换**: 上传参考图片，基于图片和文本描述生成新图像
- **多图片输入**: 支持上传多张参考图片
- **批量生成**: 一次生成多张图像（1-20张）

### ⚙️ 高级设置
- **模型选择**: 支持多种AI模型（Qwen Image、Flux Kontext、GPT-4O Image）
- **图像尺寸**: 256x256、512x512、1024x1024 三种尺寸选择，支持自动尺寸检测
- **引导强度**: 控制生成图像与文本描述的匹配程度
- **推理步数**: 调整生成质量和速度的平衡
- **变化强度**: 控制基于参考图片的变化程度

### 🎯 用户体验
- **直观界面**: 简洁美观的用户界面
- **拖拽上传**: 支持拖拽方式上传图片
- **实时预览**: 上传图片的即时预览
- **加载动画**: 生成过程中的视觉反馈
- **错误处理**: 友好的错误提示信息
- **响应式设计**: 适配各种屏幕尺寸

## 文件结构

```
qwenImage/
├── index.html          # 主页面文件
├── test-api.html       # API测试页面
├── styles.css          # 样式文件
├── script.js           # JavaScript功能文件
├── start-server.py     # 静态文件服务器启动脚本
├── start-all.py        # 简化启动脚本
├── start-all.bat       # Windows启动脚本
├── start-server.bat    # Windows服务器启动脚本
├── DEMO.md             # 演示指南
└── README.md           # 项目说明文档
```

## 使用方法

### 1. 简单使用（推荐）
直接双击打开 `index.html` 文件即可开始使用，支持现代浏览器直接运行。

### 2. 通过本地服务器使用
如果需要更好的跨域支持，可以使用本地服务器启动：

#### Windows系统:
- 双击运行 `start-all.bat` 或 `start-server.bat`
- 或使用命令: `python start-server.py`

#### 其他系统:
- 使用命令: `python start-server.py`

### 3. 基本使用步骤
1. 在"图像描述"文本框中输入详细的图像描述
2. （可选）上传一张或多张参考图片
3. 点击"生成图像"按钮
4. 等待AI生成完成，查看结果
5. 点击"下载"按钮保存喜欢的图像

### 4. 高级设置
1. 点击"高级设置"展开参数面板
2. 根据需要调整各项参数：
   - **模型选择**: 不同模型有不同的风格特点
   - **图像尺寸**: 更大尺寸需要更多时间和费用
   - **生成数量**: 一次生成多张图像进行对比（1-20张）
   - **引导强度**: 7.5为推荐值，更高值更符合描述
   - **推理步数**: 30为推荐值，更多步数质量更高
   - **变化强度**: 仅在使用参考图片时有效

## API 配置

项目使用 NanoGPT API，API密钥已预配置在 `script.js` 文件中：

```javascript
const API_CONFIG = {
    baseUrl: 'https://nano-gpt.com/v1/images/generations',
    apiKey: 'c4deaf5a-eedd-4138-94e2-e2e6e299a22d'
};
```

## 技术实现

### 前端技术
- **HTML5**: 语义化标签和现代Web标准
- **CSS3**: Flexbox/Grid布局、动画效果、响应式设计
- **JavaScript ES6+**: 异步处理、模块化代码、现代语法

### API集成
- **直接API调用**: 前端直接调用NanoGPT API，无需代理服务器
- **RESTful API**: 标准的HTTP请求/响应
- **JSON数据格式**: 结构化数据传输
- **Base64图片编码**: 图片数据的安全传输
- **错误处理**: 完善的异常处理机制

### 浏览器兼容性
- Chrome 60+
- Firefox 55+
- Safari 12+
- Edge 79+

## 注意事项

1. **网络连接**: 需要稳定的网络连接访问API
2. **API费用**: 每次生成都会消耗API费用，请合理使用
3. **图片格式**: 支持JPG、PNG格式的参考图片
4. **文件大小**: 建议上传的图片文件不超过10MB
5. **生成时间**: 根据参数设置，生成时间可能在10秒到2分钟之间
6. **CORS限制**: 某些浏览器可能限制跨域请求，建议使用本地服务器

## 故障排除

### 常见问题
1. **生成失败**: 检查网络连接和API密钥
2. **图片无法上传**: 确认文件格式和大小
3. **页面显示异常**: 尝试刷新页面或清除浏览器缓存
4. **生成速度慢**: 降低图像尺寸或推理步数
5. **跨域错误**: 使用本地服务器启动或配置浏览器允许跨域

### 错误代码
- **400**: 请求参数错误，检查输入内容
- **401**: API密钥无效或过期
- **429**: 请求频率过高，稍后重试
- **500**: 服务器内部错误，稍后重试

## 更新日志

### v1.1.0 (2024-09-24)
- **简化架构**: 移除代理服务器，直接调用NanoGPT API
- **改进启动**: 简化启动流程，支持直接打开文件使用
- **增强功能**: 支持生成1-20张图像，增加自动尺寸检测

### v1.0.0 (2024-12-19)
- 初始版本发布
- 实现基本的文本到图像生成功能
- 支持图片上传和多种参数调整
- 完整的用户界面和交互体验

## 许可证

本项目仅供学习和个人使用。请遵守 NanoGPT API 的使用条款。
